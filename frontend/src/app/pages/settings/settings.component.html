<main>
  <h1>Einstellungen</h1>

  <div class="container">
    <div class="overview">
      <app-pseudo-text-input label="E-Mail" [placeholder]="user?.email" [isVerified]="user?.emailVerified"></app-pseudo-text-input>
      <app-pseudo-text-input label="Benutzername" [placeholder]="user?.username" [isEditable]="true" [settingsBox]="usernameBox"></app-pseudo-text-input>
      <app-pseudo-text-input label="Passwort" [isEditable]="true" [isPassword]="true" [settingsBox]="passwordBox"></app-pseudo-text-input>
    </div>

      <div class="settings_box" #usernameBox style="display: none;">
  <span>
    <label>Aktueller Benutzername</label>
    <input type="text" [value]="user?.username" disabled>
  </span>
          <span>
    <label>Neuer Benutzername</label>
    <input type="text" [(ngModel)]="newUsername">
  </span>
          <span>
    <label>Aktuelles Passwort (zur Bestätigung)</label>
    <input type="password" [(ngModel)]="currentPasswordforChangingUsername">
  </span>
          <div class="buttons">
              <button class="red-button" (click)="closeUsernameBox()">Zurück</button>
              <button class="green-button"
                      (click)="closeUsernameBox(true)"
                      [disabled]="!newUsername || !currentPasswordforChangingUsername">
                  Speichern
              </button>
          </div>
      </div>

      <div class="settings_box" #passwordBox style="display: none;">
  <span>
    <label>Aktuelles Passwort</label>
    <input type="password" [(ngModel)]="currentPasswordforChangingPassword">
  </span>
          <span>
    <label>Neues Passwort</label>
    <input type="password" [(ngModel)]="newPassword">
  </span>
          <span>
    <label>Neues Passwort wiederholen</label>
    <input type="password" [(ngModel)]="repeatedNewPassword">
  </span>
          <div class="buttons">
              <button class="red-button" (click)="closePasswordBox()">Zurück</button>
              <button class="green-button"
                      (click)="closePasswordBox(true)"
                      [disabled]="!currentPasswordforChangingPassword || !newPasswordsAreEqual()">
                  Speichern
              </button>
          </div>
      </div>

  </div>
</main>
