<div class="transactions-group">
  <h1 class="transactions-title">Transaktionshistorie</h1>

  @if (displayedGroupedMonths.length === 0) {
    <p class="no-transaction-message">
      Keine Transaktionen sind verfÃ¼gbar.
    </p>
  }

  <ng-container *ngFor="let month of displayedGroupedMonths">
    <h3>{{ month }}</h3>

    <div *ngFor="let tx of displayedGroupedTransactions[month]" class="transaction-row">
      <span class="icon">ðŸ“„</span>
      <span class="date">{{ tx.date | date:'d. MMMM, HH:mm' }}</span>
      <span class="description">{{ tx.description }}</span>
      <span class="amount" [ngClass]="tx.amount > 0 ? 'green' : 'red'">
        {{ tx.amount > 0 ? '+' : '' }}{{ tx.amount }}
        <span><img src="/images/coin.png"></span>
      </span>
    </div>
  </ng-container>

  @if (totalPages > 1) {
    <div class="pagination">
      <button (click)="loadPage(currentPage - 1)" [disabled]="currentPage === 1">Â«</button>

      <ng-container *ngFor="let page of compactPageNumbers">
        <button
          *ngIf="page !== '...'; else dots"
          [class.active]="page === currentPage"
          (click)="loadPage(page)">
          {{ page }}
        </button>
        <ng-template #dots>
          <span class="dots">â€¦</span>
        </ng-template>
      </ng-container>

      <button (click)="loadPage(currentPage + 1)" [disabled]="currentPage === totalPages">Â»</button>
    </div>
  }
</div>
